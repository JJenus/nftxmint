import{a as f,u as B,b as D}from"./authStates.kS65Hcra.js";import{d as y,o as d,k as _,x as e,F as v,L as x,a as g,M as R,N as V,O as U,u as b,J as T,P as F,D as N,z as C,Q as I,R as O,G as L,H as M,l as S}from"./swiper-vue.D71CgVZz.js";import{u as z,n as j}from"./entry.D9pw3SQe.js";import{e as P,s as q}from"./showAlert.o-xGKRew.js";import"./cookie.N4KnbzfG.js";/*!
 * currency.js - v2.0.4
 * http://scurker.github.io/currency.js
 *
 * Copyright (c) 2021 Jason Wilson
 * Released under MIT license
 */var J={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:Q,fromCents:!1},E=function(s){return Math.round(s)},A=function(s){return Math.pow(10,s)},H=function(s,t){return E(s/t)*t},G=/(\d)(?=(\d{3})+\b)/g,K=/(\d)(?=(\d\d)+\d\b)/g;function h(o,s){var t=this;if(!(t instanceof h))return new h(o,s);var i=Object.assign({},J,s),n=A(i.precision),a=$(o,i);t.intValue=a,t.value=a/n,i.increment=i.increment||1/n,i.useVedic?i.groups=K:i.groups=G,this.s=i,this.p=n}function $(o,s){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=0,n=s.decimal,a=s.errorOnInvalid,m=s.precision,l=s.fromCents,r=A(m),c=typeof o=="number",u=o instanceof h;if(u&&l)return o.intValue;if(c||u)i=u?o.value:o;else if(typeof o=="string"){var p=new RegExp("[^-\\d"+n+"]","g"),k=new RegExp("\\"+n,"g");i=o.replace(/\((.*)\)/,"-$1").replace(p,"").replace(k,"."),i=i||0}else{if(a)throw Error("Invalid Input");i=0}return l||(i*=r,i=i.toFixed(4)),t?E(i):i}function Q(o,s){var t=s.pattern,i=s.negativePattern,n=s.symbol,a=s.separator,m=s.decimal,l=s.groups,r=(""+o).replace(/^-/,"").split("."),c=r[0],u=r[1];return(o.value>=0?t:i).replace("!",n).replace("#",c.replace(l,"$1"+a)+(u?m+u:""))}h.prototype={add:function(s){var t=this.intValue,i=this.s,n=this.p;return h((t+=$(s,i))/(i.fromCents?1:n),i)},subtract:function(s){var t=this.intValue,i=this.s,n=this.p;return h((t-=$(s,i))/(i.fromCents?1:n),i)},multiply:function(s){var t=this.intValue,i=this.s;return h((t*=s)/(i.fromCents?1:A(i.precision)),i)},divide:function(s){var t=this.intValue,i=this.s;return h(t/=$(s,i,!1),i)},distribute:function(s){for(var t=this.intValue,i=this.p,n=this.s,a=[],m=Math[t>=0?"floor":"ceil"](t/s),l=Math.abs(t-m*s),r=n.fromCents?1:i;s!==0;s--){var c=h(m/r,n);l-- >0&&(c=c[t>=0?"add":"subtract"](1/r)),a.push(c)}return a},dollars:function(){return~~this.value},cents:function(){var s=this.intValue,t=this.p;return~~(s%t)},format:function(s){var t=this.s;return typeof s=="function"?s(this,t):t.format(this,Object.assign({},t,s))},toString:function(){var s=this.intValue,t=this.p,i=this.s;return H(s/t,i.increment).toFixed(i.precision)},toJSON:function(){return this.value}};const W={class:"card-body d-flex flex-center flex-column py-9 px-5",bis_skin_checked:"1"},X={class:"symbol symbol-65px symbol-circle mb-5",bis_skin_checked:"1"},Y=["src"],Z=e("div",{class:"bg-success position-absolute rounded-circle translate-middle start-100 top-100 border border-4 border-body h-15px w-15px ms-n3 mt-n3",bis_skin_checked:"1"},null,-1),ee={role:"button",class:"fs-4 text-gray-800 text-hover-primary fw-bold mb-0"},se={class:"fw-semibold text-gray-400 mb-6",bis_skin_checked:"1"},te={class:"d-flex flex-center flex-wrap mb-0",bis_skin_checked:"1"},ie={class:"border border-dashed rounded min-w-90px py-3 px-4 mx-2 mb-3",bis_skin_checked:"1"},ne={class:"fs-6 fw-bold text-gray-700",bis_skin_checked:"1"},oe=e("i",{class:"fa-brands fa-ethereum fs-2 text-warning me-1"},null,-1),ae=e("div",{class:"fw-semibold text-gray-400",bis_skin_checked:"1"}," Balance ",-1),le=y({__name:"User",props:{user:{}},setup(o){const s=f().active,t=o,i=()=>{let n=t.user.balance;return n||(n="0"),h(n,{symbol:""}).format()};return(n,a)=>(d(),_("div",{onClick:a[0]||(a[0]=m=>s.value=n.user),class:"card user border-dashed border-primary",bis_skin_checked:"1"},[e("div",W,[e("div",X,[e("img",{src:n.user.profileImg||n.$config.public.DEFAULT_DP,alt:"image"},null,8,Y),Z]),e("a",ee,v(n.user.name?n.user.name:"unknown collector"),1),e("div",se,v(n.user.email),1),e("div",te,[e("div",ie,[e("div",ne,[oe,x(" "+v(i()),1)]),ae])])])]))}}),re={class:"card mb-5 mb-xl-10",bis_skin_checked:"1"},ce={class:"card-body d-flex flex-column justify-content-center align-items-center py-8",bis_skin_checked:"1"},de={class:"w-lg-400px"},ue=e("div",{class:"mb-13 text-center"},[e("h1",{class:"mb-3"},"Top Up"),e("div",{class:"text-muted fw-semibold fs-5"},[x(" Increase user balance. Only admin users can do this. "),e("a",{role:"button",class:"link-primary fw-bold"},"(admin)"),x(". ")])],-1),_e={class:"d-flex flex-column mb-7 fv-row fv-plugins-icon-container"},me=e("label",{class:"d-flex align-items-center fs-6 fw-semibold form-label mb-2"},[e("span",{class:"required"},"User Email"),e("span",{class:"ms-1","data-bs-toggle":"tooltip","aria-label":"Specify a card holder's name","data-bs-original-title":"Specify a card holder's name","data-kt-initialized":"1"},[e("i",{class:"ki-outline ki-information-5 text-gray-500 fs-6"})])],-1),be=e("div",{class:"fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"},null,-1),pe={class:"d-flex flex-column mb-7 fv-row fv-plugins-icon-container"},fe=e("label",{class:"required fs-6 fw-semibold form-label mb-2"},"Amount",-1),he={class:"position-relative"},ve=e("div",{class:"fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"},null,-1),ke={class:"text-center pt-15"},ge=e("button",{type:"reset",id:"kt_modal_new_card_cancel",class:"btn btn-light me-3"}," Discard ",-1),xe=e("span",{class:"indicator-label"}," Submit ",-1),ye=e("span",{class:"indicator-progress"},[x(" Please wait... "),e("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),we=[xe,ye],$e=y({__name:"UserTransaction",props:{user:{}},setup(o){const s=o,t=z(),i=g(),n=g({email:s.user.email,amount:""}),a=()=>{var r;if(console.log(n.value),!n.value.amount||!n.value.email){P("Fill from correctly");return}const l={method:"post",data:{email:n.value.email,amount:Number(n.value.amount)},url:`${t.public.BE_API}/account`,timeout:15e3,headers:{Authorization:"Bearer "+((r=B().userData.value)==null?void 0:r.token)}};i.value.setAttribute("data-kt-indicator","on"),D.request(l).then(c=>{const u=c.data;console.log(u),q("Saved! New balance: "+u.amount),f().getUsers()}).catch(c=>{P("Unable to update balance"),console.log(c)}).finally(()=>{i.value.removeAttribute("data-kt-indicator")})};return(m,l)=>(d(),_("div",re,[e("div",ce,[e("div",de,[ue,e("form",{onSubmit:l[2]||(l[2]=R(r=>a(),["prevent"])),class:"form fv-plugins-bootstrap5 fv-plugins-framework",action:"#","data-select2-id":"select2-data-kt_modal_new_card_form"},[e("div",_e,[me,V(e("input",{disabled:"",type:"text",class:"form-control form-control-solid",placeholder:"Enter user email",name:"email","onUpdate:modelValue":l[0]||(l[0]=r=>b(n).email=r)},null,512),[[U,b(n).email]]),be]),e("div",pe,[fe,e("div",he,[V(e("input",{type:"text",class:"form-control form-control-solid",placeholder:"Enter Amount",name:"amount","onUpdate:modelValue":l[1]||(l[1]=r=>b(n).amount=r)},null,512),[[U,b(n).amount]])]),ve]),e("div",ke,[ge,e("button",{type:"submit",ref_key:"submitButton",ref:i,class:"btn btn-primary"},we,512)])],32)])])]))}}),Ve={class:"card mb-5 mb-xl-10 border-0",id:"kt_profile_details_view",bis_skin_checked:"1"},Ue={class:"card-header cursor-pointer align-items-center",bis_skin_checked:"1"},Ce=e("div",{class:"card-title m-0",bis_skin_checked:"1"},[e("h3",{class:"fw-bold m-0"},"Profile Details")],-1),Ae=F('<span class="indicator-label"><i class="ki-duotone ki-user-tick fs-3"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i> Verify </span><span class="indicator-progress"> Please wait... <span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>',2),Pe=[Ae],Ne={key:1},Ee=e("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400"},null,-1),Be=e("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400 mx-2"},null,-1),De=e("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400"},null,-1),Re=[Ee,Be,De],Te={class:"card-body p-9",bis_skin_checked:"1"},Fe={class:"row mb-7",bis_skin_checked:"1"},Ie=e("label",{class:"col-lg-4 fw-semibold text-muted"},"Full Name",-1),Oe={class:"col-lg-8",bis_skin_checked:"1"},Le={class:"fw-bold fs-6 text-gray-800"},Me={class:"row mb-7",bis_skin_checked:"1"},Se=e("label",{class:"col-5 col-lg-4 fw-semibold text-muted"}," Email ",-1),ze={class:"col-7 col-lg-8 d-flex align-items-center flex-wrap",bis_skin_checked:"1"},je={class:"fw-semibold text-gray-800 fs-6 me-2"},qe={key:0,class:"badge badge-success"},Je={key:1,class:"badge badge-danger"},He={class:"row mb-7",bis_skin_checked:"1"},Ge=e("label",{class:"col-5 col-lg-4 fw-semibold text-muted"},[x(" Contact Phone "),e("span",{class:"ms-1","data-bs-toggle":"tooltip","aria-label":"Phone number must be active","data-bs-original-title":"Phone number must be active","data-kt-initialized":"1"},[e("i",{class:"ki-outline ki-information fs-7"})])],-1),Ke={class:"col-7 col-lg-8 fv-row",bis_skin_checked:"1"},Qe={class:"fw-bold fs-6 text-gray-800 me-2"},We={class:"row mb-7",bis_skin_checked:"1"},Xe=e("label",{class:"col-5 col-lg-4 fw-semibold text-muted"},"ETH Address",-1),Ye={class:"col-7 col-lg-8",bis_skin_checked:"1"},Ze={role:"button",class:"fw-semibold fs-6 text-gray-800 text-hover-primary"},es={class:"notice d-flex bg-light-warning rounded border-warning border border-dashed p-6",bis_skin_checked:"1"},ss=e("i",{class:"ki-outline ki-information fs-2tx text-warning me-4"},null,-1),ts={key:0,class:"d-flex flex-stack flex-grow-1",bis_skin_checked:"1"},is=e("div",{class:"fw-semibold",bis_skin_checked:"1"},[e("h4",{class:"text-gray-900 fw-bold"}," We need your attention! "),e("div",{class:"fs-6 text-gray-700",bis_skin_checked:"1"}," >Email is not verified. ")],-1),ns=[is],os=y({__name:"UserProfile",props:{user:{}},setup(o){const s=g();return(t,i)=>{var n,a,m,l,r;return d(),_("div",Ve,[e("div",Ue,[Ce,(n=t.user)!=null&&n.status?(d(),_("div",Ne,Re)):(d(),_("button",{key:0,ref_key:"submitButton",ref:s,class:"btn btn-light-primary"},Pe,512))]),e("div",Te,[e("div",Fe,[Ie,e("div",Oe,[e("span",Le,v(t.user.name?t.user.name:"Unknown Collector"),1)])]),e("div",Me,[Se,e("div",ze,[e("span",je,v((a=t.user)==null?void 0:a.email),1),((m=t.user)==null?void 0:m.status)=="verified"?(d(),_("span",qe,"Verified")):(d(),_("span",Je,"Not verified"))])]),e("div",He,[Ge,e("div",Ke,[e("span",Qe,v(t.user.phone?t.user.phone:"Unknown"),1)])]),e("div",We,[Xe,e("div",Ye,[e("a",Ze,v((l=t.user)==null?void 0:l.ethAddress),1)])]),e("div",es,[ss,((r=t.user)==null?void 0:r.status)!=="veified"?(d(),_("div",ts,ns)):T("",!0)])])])}}}),as={class:"card card-flush mb-9",id:"kt_user_profile_panel",bis_skin_checked:"1"},ls=e("div",{class:"card-header rounded-top bgi-size-cover h-200px",style:{"background-position":"100% 50%","background-image":"url('/assets/media/auth/bg14.jpg')"},bis_skin_checked:"1"},null,-1),rs={class:"card-body mt-n19",bis_skin_checked:"1"},cs={class:"m-0",bis_skin_checked:"1"},ds={class:"d-flex flex-stack align-items-end pb-4 mt-n19",bis_skin_checked:"1"},us={class:"symbol symbol-125px symbol-lg-150px symbol-fixed position-relative mt-n3",bis_skin_checked:"1"},_s=["src"],ms=e("div",{class:"position-absolute translate-middle bottom-0 start-100 ms-n1 mb-9 bg-success rounded-circle h-15px w-15px",bis_skin_checked:"1"},null,-1),bs={class:"d-flex flex-stack flex-wrap align-items-end",bis_skin_checked:"1"},ps={class:"d-flex flex-column",bis_skin_checked:"1"},fs={class:"d-flex align-items-center mb-2",bis_skin_checked:"1"},hs={role:"button",class:"text-gray-800 text-hover-primary fs-2 fw-bolder me-1"},vs={role:"button",class:"","data-bs-toggle":"tooltip","data-bs-placement":"right","aria-label":"Account is verified","data-bs-original-title":"Account is verified","data-kt-initialized":"1"},ks={key:0,class:"ki-outline ki-verify fs-1 text-primary"},gs={key:1,tooltip:"Not verified",class:"ki-outline ki-information fs-1 text-danger"},xs={class:"d-flex align-items-center flex-wrap fw-semibold mb-5 mb-lg-0 fs-7 pe-2",bis_skin_checked:"1"},ys=e("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400 mx-3"},null,-1),ws={href:"#",class:"d-block text-gray-400 text-hover-primary mw-lg-400px mw-200px text-truncate"},$s=e("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400 mx-3"},null,-1),Vs={class:"d-flex",bis_skin_checked:"1"},Us=e("i",{class:"ki-outline ki-check fs-2 d-none"},null,-1),Cs=e("span",{class:"indicator-label"}," Back",-1),As=[Us,Cs],Ps={class:"card-footer border-0"},Ns=y({__name:"UserView",setup(o){g("");const s=f().active,t=g(null),i=()=>{s.value=null};return N(()=>{}),(n,a)=>{var r,c,u,p;const m=$e,l=os;return d(),_("div",null,[e("div",as,[ls,e("div",rs,[e("div",cs,[e("div",ds,[e("div",us,[e("img",{src:((r=b(s))==null?void 0:r.profileImg)||n.$config.public.DEFAULT_DP,alt:"image",class:"border border-white border-4",style:{"border-radius":"20px"}},null,8,_s),ms])]),e("div",bs,[e("div",ps,[e("div",fs,[e("a",hs,v((c=b(s))==null?void 0:c.name),1),e("a",vs,[((u=b(s))==null?void 0:u.status)==="verified"?(d(),_("i",ks)):(d(),_("i",gs))])]),e("div",xs,[ys,e("div",ws,v((p=b(s))==null?void 0:p.ethAddress),1),$s])]),e("div",Vs,[b(t)?(d(),_("a",{key:1,onClick:a[1]||(a[1]=k=>t.value=null),role:"button",class:"btn btn-sm btn-light me-3"}," Profile ")):(d(),_("a",{key:0,onClick:a[0]||(a[0]=k=>t.value="notify"),role:"button",class:"btn btn-sm btn-light me-3"}," Fund User ")),e("button",{onClick:a[2]||(a[2]=k=>i()),class:"btn btn-sm btn-primary"},As)])])])]),e("div",Ps,[b(t)?(d(),C(m,{key:0,user:b(s)},null,8,["user"])):(d(),C(l,{key:1,user:b(s)},null,8,["user"]))])])])}}}),Es={class:"h-md-100"},Bs={key:0,class:""},Ds={class:"card card-flush card-custom border-0 h-md-100 mb-5 mb-lg-10"},Rs={class:"card-body"},Ts={class:"d-block d-flex flex-column align-items-center justify-content-center"},Fs={class:"text-center h2 pb-2 fw-bold"},Is={class:"position-relative my-1",bis_skin_checked:"1"},Os=e("i",{class:"ki-outline ki-magnifier fs-2 position-absolute top-50 translate-middle-y ms-4"},null,-1),Ls={class:"row g-6 mb-6 g-xl-10 mb-xl-9 px-8"},Ms={class:"col-12 col-md-4 hover-scale cursor-pointer",bis_skin_checked:"1"},Hs=y({__name:"users",async setup(o){let s,t;const i=f().data;(i.value.userRole==null||i.value.userRole!=="admin")&&([s,t]=I(()=>j("/account")),await s,t());const n=g(""),a=f().active,m=()=>f().users.value.length;f().users.value.length===0&&f().getUsers();function l(c){return c?(c=c.toLowerCase(),f().users.value.filter(p=>p.name&&p.name.toLowerCase().includes(c)||p.email&&p.email.toLowerCase().includes(c)||p.phone&&p.phone.toLowerCase().includes(c))):f().users.value}const r=()=>{l(n.value)};return N(()=>{}),(c,u)=>{const p=le,k=Ns;return d(),_("div",Es,[b(a)?(d(),C(k,{key:1})):(d(),_("div",Bs,[e("div",Ds,[e("div",Rs,[e("div",Ts,[e("h1",Fs," Users ("+v(m())+") ",1),e("div",Is,[Os,V(e("input",{onKeyup:u[0]||(u[0]=w=>r()),type:"text","data-kt-table-widget-4":"search",class:"form-control w-150px fs-7 ps-12",placeholder:"Search","onUpdate:modelValue":u[1]||(u[1]=w=>O(n)?n.value=w:null)},null,544),[[U,b(n)]])])])])]),e("div",Ls,[(d(!0),_(L,null,M(l(b(n)),w=>(d(),_("div",Ms,[S(p,{user:w},null,8,["user"])]))),256))])]))])}}});export{Hs as default};
