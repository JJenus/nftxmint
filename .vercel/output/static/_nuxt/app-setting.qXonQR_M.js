import{b as g,u as v,c as b}from"./entry.kVMd8BoX.js";import{j as h,a as m,z as l,A as i,E as e,R as r,U as d,u as o,V as x}from"./swiper-vue.ErH13jIa.js";import{e as A,s as y}from"./showAlert.gTKGgNLp.js";const S={class:"d-flex align-items-center justify-content-center flex-column"},w=e("h1",{class:"fs-2x fw-bold mb-8"},"Admin App Settings",-1),F={class:"mb-5"},V=e("label",{for:"",class:"form-label"},"Eth Address",-1),k={class:"row g-5 row-cols-2 mb-5"},B={class:"col"},C=e("label",{for:"",class:"form-label"},"Minting fee",-1),E={class:"col"},U=e("label",{for:"",class:"form-label"},"Gas fee",-1),M={class:"mb-3"},j=["disabled"],q={key:0},P={key:1,class:"spinner-border spinner-border-sm"},D=h({__name:"app-setting",setup(R){const c=g(),f=c.settings,s=m({...f.value}),a=m(!1),p=()=>s.value.ethAddress&&s.value.mintingFee&&s.value.gasFee,_=()=>{if(s.value.defaultLanguage="en",!p())return A("all fields are required");a.value=!0;const u={method:"POST",url:`${v().public.BE_API}/settings`,timeout:2e4,data:s.value};b.request(u).then(t=>{y("Saved"),c.load()}).catch(t=>{console.log(t)}).finally(()=>a.value=!1)};return(u,t)=>(l(),i("div",S,[w,e("form",{onSubmit:t[3]||(t[3]=x(n=>_(),["prevent"])),class:"needs-validation"},[e("div",F,[V,r(e("input",{type:"text",name:"crypto",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=n=>o(s).ethAddress=n)},null,512),[[d,o(s).ethAddress]])]),e("div",k,[e("div",B,[C,r(e("input",{type:"text",name:"",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=n=>o(s).mintingFee=n)},null,512),[[d,o(s).mintingFee]])]),e("div",E,[U,r(e("input",{type:"text",name:"",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=n=>o(s).gasFee=n)},null,512),[[d,o(s).gasFee]])])]),e("div",M,[e("button",{disabled:o(a),class:"btn btn-primary w-100"},[o(a)?(l(),i("span",P)):(l(),i("span",q,"Save Settings"))],8,j)])],32)]))}});export{D as default};
