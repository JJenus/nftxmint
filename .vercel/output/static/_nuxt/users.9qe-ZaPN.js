import{a as h,u as P}from"./authStates.QCPyDKGd.js";import{c as A}from"./currency.es.-or6eeOG.js";import{d as y,l as i,q as c,A as s,H as p,M as x,a as k,P as V,N as w,O as $,u as r,L as E,Q as T,o as B,C as U,R as D,k as N,I as L,J as F,x as z}from"./swiper-vue.5_csNmSw.js";import{c as I,u as R,n as q}from"./entry.GFMhS71B.js";import{e as C,s as M}from"./showAlert.gTKGgNLp.js";import"./cookie.T-c3k4Q1.js";const j={class:"card-body d-flex flex-center flex-column py-9 px-5",bis_skin_checked:"1"},H={class:"symbol symbol-65px symbol-circle mb-5",bis_skin_checked:"1"},S=["src"],O=s("div",{class:"bg-success position-absolute rounded-circle translate-middle start-100 top-100 border border-4 border-body h-15px w-15px ms-n3 mt-n3",bis_skin_checked:"1"},null,-1),J={role:"button",class:"fs-4 text-gray-800 text-hover-primary fw-bold mb-0"},K={class:"fw-semibold text-gray-400 mb-6",bis_skin_checked:"1"},Q={class:"d-flex flex-center flex-wrap mb-0",bis_skin_checked:"1"},W={class:"border border-dashed rounded min-w-90px py-3 px-4 mx-2 mb-3",bis_skin_checked:"1"},G={class:"fs-6 fw-bold text-gray-700",bis_skin_checked:"1"},X=s("i",{class:"fa-brands fa-ethereum fs-2 text-warning me-1"},null,-1),Y=s("div",{class:"fw-semibold text-gray-400",bis_skin_checked:"1"}," Balance ",-1),Z=y({__name:"User",props:{user:{}},setup(v){const a=h().active,t=v,m=()=>{let e=t.user.balance;return e||(e="0"),A(e,{symbol:"",precision:8}).format()};return(e,n)=>(i(),c("div",{onClick:n[0]||(n[0]=d=>a.value=e.user),class:"card user border-dashed border-primary",bis_skin_checked:"1"},[s("div",j,[s("div",H,[s("img",{src:e.user.profileImg||e.$config.public.DEFAULT_DP,alt:"image"},null,8,S),O]),s("a",J,p(e.user.name?e.user.name:"unknown collector"),1),s("div",K,p(e.user.email),1),s("div",Q,[s("div",W,[s("div",G,[X,x(" "+p(m()),1)]),Y])])])]))}}),ss={class:"card mb-5 mb-xl-10",bis_skin_checked:"1"},es={class:"card-body d-flex flex-column justify-content-center align-items-center py-8",bis_skin_checked:"1"},ts={class:"w-lg-400px"},os=s("div",{class:"mb-13 text-center"},[s("h1",{class:"mb-3"},"Top Up"),s("div",{class:"text-muted fw-semibold fs-5"},[x(" Increase user balance. Only admin users can do this. "),s("a",{role:"button",class:"link-primary fw-bold"},"(admin)"),x(". ")])],-1),is={class:"d-flex flex-column mb-7 fv-row fv-plugins-icon-container"},ns=s("label",{class:"d-flex align-items-center fs-6 fw-semibold form-label mb-2"},[s("span",{class:"required"},"User Email"),s("span",{class:"ms-1","data-bs-toggle":"tooltip","aria-label":"Specify a card holder's name","data-bs-original-title":"Specify a card holder's name","data-kt-initialized":"1"},[s("i",{class:"ki-outline ki-information-5 text-gray-500 fs-6"})])],-1),as=s("div",{class:"fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"},null,-1),ls={class:"d-flex flex-column mb-7 fv-row fv-plugins-icon-container"},cs=s("label",{class:"required fs-6 fw-semibold form-label mb-2"},"Amount",-1),ds={class:"position-relative"},rs=s("div",{class:"fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"},null,-1),_s={class:"text-center pt-15"},us=s("button",{type:"reset",id:"kt_modal_new_card_cancel",class:"btn btn-light me-3"}," Discard ",-1),ms=s("span",{class:"indicator-label"}," Submit ",-1),bs=s("span",{class:"indicator-progress"},[x(" Please wait... "),s("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),ps=[ms,bs],hs=y({__name:"UserTransaction",props:{user:{}},setup(v){const a=v,t=R(),m=k(),e=k({email:a.user.email,amount:""}),n=k(a.user),d=()=>{const b=A(n.value.balance,{symbol:"",precision:8}).add(e.value.amount);n.value.balance=b.value+"",console.log("user",n.value)},u=()=>{var o;if(console.log(e.value),!e.value.amount||!e.value.email){C("Fill from correctly");return}d();const b={method:"put",data:n.value,url:`${t.public.BE_API}/users`,timeout:2e4,headers:{Authorization:"Bearer "+((o=P().userData.value)==null?void 0:o.token)}};m.value.setAttribute("data-kt-indicator","on"),I.request(b).then(l=>{const _=l.data;console.log(_),M("Saved! New balance: "+_.amount),h().getUsers()}).catch(l=>{C("Unable to update balance"),console.log(l)}).finally(()=>{m.value.removeAttribute("data-kt-indicator")})};return(b,o)=>(i(),c("div",ss,[s("div",es,[s("div",ts,[os,s("form",{onSubmit:o[2]||(o[2]=V(l=>u(),["prevent"])),class:"form fv-plugins-bootstrap5 fv-plugins-framework",action:"#","data-select2-id":"select2-data-kt_modal_new_card_form"},[s("div",is,[ns,w(s("input",{disabled:"",type:"text",class:"form-control form-control-solid",placeholder:"Enter user email",name:"email","onUpdate:modelValue":o[0]||(o[0]=l=>r(e).email=l)},null,512),[[$,r(e).email]]),as]),s("div",ls,[cs,s("div",ds,[w(s("input",{type:"text",class:"form-control form-control-solid",placeholder:"Enter Amount",name:"amount","onUpdate:modelValue":o[1]||(o[1]=l=>r(e).amount=l)},null,512),[[$,r(e).amount]])]),rs]),s("div",_s,[us,s("button",{type:"submit",ref_key:"submitButton",ref:m,class:"btn btn-primary"},ps,512)])],32)])])]))}}),fs={class:"card mb-5 mb-xl-10 border-0",id:"kt_profile_details_view",bis_skin_checked:"1"},ks={class:"card-header cursor-pointer align-items-center",bis_skin_checked:"1"},vs=s("div",{class:"card-title m-0",bis_skin_checked:"1"},[s("h3",{class:"fw-bold m-0"},"Profile Details")],-1),gs=T('<span class="indicator-label"><i class="ki-duotone ki-user-tick fs-3"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i> Verify </span><span class="indicator-progress"> Please wait... <span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>',2),xs=[gs],ys={key:1},ws=s("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400"},null,-1),$s=s("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400 mx-2"},null,-1),Us=s("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400"},null,-1),As=[ws,$s,Us],Cs={class:"card-body p-9",bis_skin_checked:"1"},Bs={class:"row mb-7",bis_skin_checked:"1"},Ps=s("label",{class:"col-lg-4 fw-semibold text-muted"},"Full Name",-1),Vs={class:"col-lg-8",bis_skin_checked:"1"},Es={class:"fw-bold fs-6 text-gray-800"},Ts={class:"row mb-7",bis_skin_checked:"1"},Ds=s("label",{class:"col-5 col-lg-4 fw-semibold text-muted"}," Email ",-1),Ns={class:"col-7 col-lg-8 d-flex align-items-center flex-wrap",bis_skin_checked:"1"},Ls={class:"fw-semibold text-gray-800 fs-6 me-2"},Fs={key:0,class:"badge badge-success"},zs={key:1,class:"badge badge-danger"},Is={class:"row mb-7",bis_skin_checked:"1"},Rs=s("label",{class:"col-5 col-lg-4 fw-semibold text-muted"},[x(" Contact Phone "),s("span",{class:"ms-1","data-bs-toggle":"tooltip","aria-label":"Phone number must be active","data-bs-original-title":"Phone number must be active","data-kt-initialized":"1"},[s("i",{class:"ki-outline ki-information fs-7"})])],-1),qs={class:"col-7 col-lg-8 fv-row",bis_skin_checked:"1"},Ms={class:"fw-bold fs-6 text-gray-800 me-2"},js={class:"row mb-7",bis_skin_checked:"1"},Hs=s("label",{class:"col-5 col-lg-4 fw-semibold text-muted"},"ETH Address",-1),Ss={class:"col-7 col-lg-8",bis_skin_checked:"1"},Os={role:"button",class:"fw-semibold fs-6 text-gray-800 text-hover-primary"},Js={class:"notice d-flex bg-light-warning rounded border-warning border border-dashed p-6",bis_skin_checked:"1"},Ks=s("i",{class:"ki-outline ki-information fs-2tx text-warning me-4"},null,-1),Qs={key:0,class:"d-flex flex-stack flex-grow-1",bis_skin_checked:"1"},Ws=s("div",{class:"fw-semibold",bis_skin_checked:"1"},[s("h4",{class:"text-gray-900 fw-bold"}," We need your attention! "),s("div",{class:"fs-6 text-gray-700",bis_skin_checked:"1"}," >Email is not verified. ")],-1),Gs=[Ws],Xs=y({__name:"UserProfile",props:{user:{}},setup(v){const a=k();return(t,m)=>{var e,n,d,u,b;return i(),c("div",fs,[s("div",ks,[vs,(e=t.user)!=null&&e.status?(i(),c("div",ys,As)):(i(),c("button",{key:0,ref_key:"submitButton",ref:a,class:"btn btn-light-primary"},xs,512))]),s("div",Cs,[s("div",Bs,[Ps,s("div",Vs,[s("span",Es,p(t.user.name?t.user.name:"Unknown Collector"),1)])]),s("div",Ts,[Ds,s("div",Ns,[s("span",Ls,p((n=t.user)==null?void 0:n.email),1),((d=t.user)==null?void 0:d.status)=="verified"?(i(),c("span",Fs,"Verified")):(i(),c("span",zs,"Not verified"))])]),s("div",Is,[Rs,s("div",qs,[s("span",Ms,p(t.user.phone?t.user.phone:"Unknown"),1)])]),s("div",js,[Hs,s("div",Ss,[s("a",Os,p((u=t.user)==null?void 0:u.ethAddress),1)])]),s("div",Js,[Ks,((b=t.user)==null?void 0:b.status)!=="veified"?(i(),c("div",Qs,Gs)):E("",!0)])])])}}}),Ys={class:"card card-flush mb-9",id:"kt_user_profile_panel",bis_skin_checked:"1"},Zs=s("div",{class:"card-header rounded-top bgi-size-cover h-200px",style:{"background-position":"100% 50%","background-image":"url('/assets/media/auth/bg14.jpg')"},bis_skin_checked:"1"},null,-1),se={class:"card-body mt-n19",bis_skin_checked:"1"},ee={class:"m-0",bis_skin_checked:"1"},te={class:"d-flex flex-stack align-items-end pb-4 mt-n19",bis_skin_checked:"1"},oe={class:"symbol symbol-125px symbol-lg-150px symbol-fixed position-relative mt-n3",bis_skin_checked:"1"},ie=["src"],ne=s("div",{class:"position-absolute translate-middle bottom-0 start-100 ms-n1 mb-9 bg-success rounded-circle h-15px w-15px",bis_skin_checked:"1"},null,-1),ae={class:"d-flex flex-stack flex-wrap align-items-end",bis_skin_checked:"1"},le={class:"d-flex flex-column",bis_skin_checked:"1"},ce={class:"d-flex align-items-center mb-2",bis_skin_checked:"1"},de={role:"button",class:"text-gray-800 text-hover-primary fs-2 fw-bolder me-1"},re={role:"button",class:"","data-bs-toggle":"tooltip","data-bs-placement":"right","aria-label":"Account is verified","data-bs-original-title":"Account is verified","data-kt-initialized":"1"},_e={key:0,class:"ki-outline ki-verify fs-1 text-primary"},ue={key:1,tooltip:"Not verified",class:"ki-outline ki-information fs-1 text-danger"},me={class:"d-flex align-items-center flex-wrap fw-semibold mb-5 mb-lg-0 fs-7 pe-2",bis_skin_checked:"1"},be=s("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400 mx-3"},null,-1),pe={href:"#",class:"d-block text-gray-400 text-hover-primary mw-lg-400px mw-200px text-truncate"},he=s("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400 mx-3"},null,-1),fe={class:"fs-2 fw-bold mb-8"},ke={class:"d-flex",bis_skin_checked:"1"},ve=s("i",{class:"ki-outline ki-check fs-2 d-none"},null,-1),ge=s("span",{class:"indicator-label"}," Back",-1),xe=[ve,ge],ye={class:"card-footer border-0"},we=y({__name:"UserView",setup(v){k("");const a=h().active,t=k(null),m=()=>{var u;let n=(u=a.value)==null?void 0:u.balance;return n||(n="0"),A(n,{symbol:"",precision:8}).format()},e=()=>{a.value=null};return B(()=>{}),(n,d)=>{var o,l,_,g;const u=hs,b=Xs;return i(),c("div",null,[s("div",Ys,[Zs,s("div",se,[s("div",ee,[s("div",te,[s("div",oe,[s("img",{src:((o=r(a))==null?void 0:o.profileImg)||n.$config.public.DEFAULT_DP,alt:"image",class:"border border-white border-4",style:{"border-radius":"20px"}},null,8,ie),ne])]),s("div",ae,[s("div",le,[s("div",ce,[s("a",de,p((l=r(a))==null?void 0:l.name),1),s("a",re,[((_=r(a))==null?void 0:_.status)==="verified"?(i(),c("i",_e)):(i(),c("i",ue))])]),s("div",me,[be,s("div",pe,p((g=r(a))==null?void 0:g.ethAddress),1),he]),s("div",fe,"ETH "+p(m()),1)]),s("div",ke,[r(t)?(i(),c("a",{key:1,onClick:d[1]||(d[1]=f=>t.value=null),role:"button",class:"btn btn-sm btn-light me-3"}," Profile ")):(i(),c("a",{key:0,onClick:d[0]||(d[0]=f=>t.value="notify"),role:"button",class:"btn btn-sm btn-light me-3"}," Fund User ")),s("button",{onClick:d[2]||(d[2]=f=>e()),class:"btn btn-sm btn-primary"},xe)])])])]),s("div",ye,[r(t)?(i(),U(u,{key:0,user:r(a)},null,8,["user"])):(i(),U(b,{key:1,user:r(a)},null,8,["user"]))])])])}}}),$e={class:"h-md-100"},Ue={key:0,class:""},Ae={class:"card card-flush card-custom border-0 h-md-100 mb-5 mb-lg-10"},Ce={class:"card-body"},Be={class:"d-block d-flex flex-column align-items-center justify-content-center"},Pe={class:"text-center h2 pb-2 fw-bold"},Ve={class:"position-relative my-1",bis_skin_checked:"1"},Ee=s("i",{class:"ki-outline ki-magnifier fs-2 position-absolute top-50 translate-middle-y ms-4"},null,-1),Te={class:"row g-6 mb-6 g-xl-10 mb-xl-9 px-8"},De={class:"col-12 col-md-4 hover-scale cursor-pointer",bis_skin_checked:"1"},qe=y({__name:"users",async setup(v){let a,t;const m=h().data;(m.value.userRole==null||m.value.userRole!=="admin")&&([a,t]=D(()=>q("/account")),await a,t());const e=k(""),n=h().active,d=()=>h().users.value.length;h().users.value.length===0&&h().getUsers();function u(o){return o?(o=o.toLowerCase(),h().users.value.filter(_=>_.name&&_.name.toLowerCase().includes(o)||_.email&&_.email.toLowerCase().includes(o)||_.phone&&_.phone.toLowerCase().includes(o))):h().users.value}const b=()=>{u(e.value)};return B(()=>{}),(o,l)=>{const _=Z,g=we;return i(),c("div",$e,[r(n)?(i(),U(g,{key:1})):(i(),c("div",Ue,[s("div",Ae,[s("div",Ce,[s("div",Be,[s("h1",Pe," Users ("+p(d())+") ",1),s("div",Ve,[Ee,w(s("input",{onKeyup:l[0]||(l[0]=f=>b()),type:"text","data-kt-table-widget-4":"search",class:"form-control w-150px fs-7 ps-12",placeholder:"Search","onUpdate:modelValue":l[1]||(l[1]=f=>N(e)?e.value=f:null)},null,544),[[$,r(e)]])])])])]),s("div",Te,[(i(!0),c(L,null,F(u(r(e)),f=>(i(),c("div",De,[z(_,{user:f},null,8,["user"])]))),256))])]))])}}});export{qe as default};
