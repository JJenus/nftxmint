import{a as h,u as E}from"./authStates.K7nf3EFk.js";import{d as g,o as d,k as m,x as e,F as f,L as k,a as v,M as B,N as $,O as V,u as b,J as D,P as F,D as P,z as U,Q as I,G as O,H as T,l as L}from"./swiper-vue.8CwPRiLZ.js";import{u as M}from"./entry.HhESNUrk.js";import{e as A,s as R}from"./showAlert.1OKWlgbc.js";import{a as S}from"./axios.L6U4YIEh.js";import"./sweetalert2.all.cno0K6ji.js";import"./cookie.P-GduYWQ.js";/*!
 * currency.js - v2.0.4
 * http://scurker.github.io/currency.js
 *
 * Copyright (c) 2021 Jason Wilson
 * Released under MIT license
 */var z={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:H,fromCents:!1},N=function(s){return Math.round(s)},C=function(s){return Math.pow(10,s)},j=function(s,i){return N(s/i)*i},q=/(\d)(?=(\d{3})+\b)/g,J=/(\d)(?=(\d\d)+\d\b)/g;function p(o,s){var i=this;if(!(i instanceof p))return new p(o,s);var t=Object.assign({},z,s),n=C(t.precision),r=w(o,t);i.intValue=r,i.value=r/n,t.increment=t.increment||1/n,t.useVedic?t.groups=J:t.groups=q,this.s=t,this.p=n}function w(o,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,t=0,n=s.decimal,r=s.errorOnInvalid,c=s.precision,l=s.fromCents,a=C(c),u=typeof o=="number",_=o instanceof p;if(_&&l)return o.intValue;if(u||_)t=_?o.value:o;else if(typeof o=="string"){var x=new RegExp("[^-\\d"+n+"]","g"),y=new RegExp("\\"+n,"g");t=o.replace(/\((.*)\)/,"-$1").replace(x,"").replace(y,"."),t=t||0}else{if(r)throw Error("Invalid Input");t=0}return l||(t*=a,t=t.toFixed(4)),i?N(t):t}function H(o,s){var i=s.pattern,t=s.negativePattern,n=s.symbol,r=s.separator,c=s.decimal,l=s.groups,a=(""+o).replace(/^-/,"").split("."),u=a[0],_=a[1];return(o.value>=0?i:t).replace("!",n).replace("#",u.replace(l,"$1"+r)+(_?c+_:""))}p.prototype={add:function(s){var i=this.intValue,t=this.s,n=this.p;return p((i+=w(s,t))/(t.fromCents?1:n),t)},subtract:function(s){var i=this.intValue,t=this.s,n=this.p;return p((i-=w(s,t))/(t.fromCents?1:n),t)},multiply:function(s){var i=this.intValue,t=this.s;return p((i*=s)/(t.fromCents?1:C(t.precision)),t)},divide:function(s){var i=this.intValue,t=this.s;return p(i/=w(s,t,!1),t)},distribute:function(s){for(var i=this.intValue,t=this.p,n=this.s,r=[],c=Math[i>=0?"floor":"ceil"](i/s),l=Math.abs(i-c*s),a=n.fromCents?1:t;s!==0;s--){var u=p(c/a,n);l-- >0&&(u=u[i>=0?"add":"subtract"](1/a)),r.push(u)}return r},dollars:function(){return~~this.value},cents:function(){var s=this.intValue,i=this.p;return~~(s%i)},format:function(s){var i=this.s;return typeof s=="function"?s(this,i):i.format(this,Object.assign({},i,s))},toString:function(){var s=this.intValue,i=this.p,t=this.s;return j(s/i,t.increment).toFixed(t.precision)},toJSON:function(){return this.value}};const G={class:"card-body d-flex flex-center flex-column py-9 px-5",bis_skin_checked:"1"},K={class:"symbol symbol-65px symbol-circle mb-5",bis_skin_checked:"1"},Q=["src"],W=e("div",{class:"bg-success position-absolute rounded-circle translate-middle start-100 top-100 border border-4 border-body h-15px w-15px ms-n3 mt-n3",bis_skin_checked:"1"},null,-1),X={role:"button",class:"fs-4 text-gray-800 text-hover-primary fw-bold mb-0"},Y={class:"fw-semibold text-gray-400 mb-6",bis_skin_checked:"1"},Z={class:"d-flex flex-center flex-wrap mb-0",bis_skin_checked:"1"},ee={class:"border border-dashed rounded min-w-90px py-3 px-4 mx-2 mb-3",bis_skin_checked:"1"},se={class:"fs-6 fw-bold text-gray-700",bis_skin_checked:"1"},te=e("i",{class:"fa-brands fa-ethereum fs-2 text-warning me-1"},null,-1),ie=e("div",{class:"fw-semibold text-gray-400",bis_skin_checked:"1"}," Balance ",-1),ne=g({__name:"User",props:{user:{}},setup(o){const s=h().active,i=o,t=()=>{let n=i.user.balance;return n||(n="0"),p(n,{symbol:""}).format()};return(n,r)=>(d(),m("div",{onClick:r[0]||(r[0]=c=>s.value=n.user),class:"card user border-dashed border-primary",bis_skin_checked:"1"},[e("div",G,[e("div",K,[e("img",{src:n.user.profileImg||n.$config.public.DEFAULT_DP,alt:"image"},null,8,Q),W]),e("a",X,f(n.user.name?n.user.name:"unknown collector"),1),e("div",Y,f(n.user.email),1),e("div",Z,[e("div",ee,[e("div",se,[te,k(" "+f(t()),1)]),ie])])])]))}}),oe={class:"card mb-5 mb-xl-10",bis_skin_checked:"1"},ae={class:"card-body d-flex flex-column justify-content-center align-items-center py-8",bis_skin_checked:"1"},le={class:"w-lg-400px"},re=e("div",{class:"mb-13 text-center"},[e("h1",{class:"mb-3"},"Top Up"),e("div",{class:"text-muted fw-semibold fs-5"},[k(" Increase user balance. Only admin users can do this. "),e("a",{role:"button",class:"link-primary fw-bold"},"(admin)"),k(". ")])],-1),ce={class:"d-flex flex-column mb-7 fv-row fv-plugins-icon-container"},de=e("label",{class:"d-flex align-items-center fs-6 fw-semibold form-label mb-2"},[e("span",{class:"required"},"User Email"),e("span",{class:"ms-1","data-bs-toggle":"tooltip","aria-label":"Specify a card holder's name","data-bs-original-title":"Specify a card holder's name","data-kt-initialized":"1"},[e("i",{class:"ki-outline ki-information-5 text-gray-500 fs-6"})])],-1),ue=e("div",{class:"fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"},null,-1),_e={class:"d-flex flex-column mb-7 fv-row fv-plugins-icon-container"},me=e("label",{class:"required fs-6 fw-semibold form-label mb-2"},"Amount",-1),be={class:"position-relative"},pe=e("div",{class:"fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"},null,-1),fe={class:"text-center pt-15"},he=e("button",{type:"reset",id:"kt_modal_new_card_cancel",class:"btn btn-light me-3"}," Discard ",-1),ve=e("span",{class:"indicator-label"}," Submit ",-1),ke=e("span",{class:"indicator-progress"},[k(" Please wait... "),e("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),ge=[ve,ke],xe=g({__name:"UserTransaction",props:{user:{}},setup(o){const s=o,i=M(),t=v(),n=v({email:s.user.email,amount:""}),r=()=>{var a;if(console.log(n.value),!n.value.amount||!n.value.email){A("Fill from correctly");return}const l={method:"post",data:{email:n.value.email,amount:Number(n.value.amount)},url:`${i.public.BE_API}/account`,timeout:15e3,headers:{Authorization:"Bearer "+((a=E().userData.value)==null?void 0:a.token)}};t.value.setAttribute("data-kt-indicator","on"),S.request(l).then(u=>{const _=u.data;console.log(_),R("Saved! New balance: "+_.amount),h().getUsers()}).catch(u=>{A("Unable to update balance"),console.log(u)}).finally(()=>{t.value.removeAttribute("data-kt-indicator")})};return(c,l)=>(d(),m("div",oe,[e("div",ae,[e("div",le,[re,e("form",{onSubmit:l[2]||(l[2]=B(a=>r(),["prevent"])),class:"form fv-plugins-bootstrap5 fv-plugins-framework",action:"#","data-select2-id":"select2-data-kt_modal_new_card_form"},[e("div",ce,[de,$(e("input",{disabled:"",type:"text",class:"form-control form-control-solid",placeholder:"Enter user email",name:"email","onUpdate:modelValue":l[0]||(l[0]=a=>b(n).email=a)},null,512),[[V,b(n).email]]),ue]),e("div",_e,[me,e("div",be,[$(e("input",{type:"text",class:"form-control form-control-solid",placeholder:"Enter Amount",name:"amount","onUpdate:modelValue":l[1]||(l[1]=a=>b(n).amount=a)},null,512),[[V,b(n).amount]])]),pe]),e("div",fe,[he,e("button",{type:"submit",ref_key:"submitButton",ref:t,class:"btn btn-primary"},ge,512)])],32)])])]))}}),ye={class:"card mb-5 mb-xl-10 border-0",id:"kt_profile_details_view",bis_skin_checked:"1"},we={class:"card-header cursor-pointer align-items-center",bis_skin_checked:"1"},$e=e("div",{class:"card-title m-0",bis_skin_checked:"1"},[e("h3",{class:"fw-bold m-0"},"Profile Details")],-1),Ve=F('<span class="indicator-label"><i class="ki-duotone ki-user-tick fs-3"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i> Verify </span><span class="indicator-progress"> Please wait... <span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>',2),Ue=[Ve],Ce={key:1},Ae=e("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400"},null,-1),Pe=e("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400 mx-2"},null,-1),Ne=e("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400"},null,-1),Ee=[Ae,Pe,Ne],Be={class:"card-body p-9",bis_skin_checked:"1"},De={class:"row mb-7",bis_skin_checked:"1"},Fe=e("label",{class:"col-lg-4 fw-semibold text-muted"},"Full Name",-1),Ie={class:"col-lg-8",bis_skin_checked:"1"},Oe={class:"fw-bold fs-6 text-gray-800"},Te={class:"row mb-7",bis_skin_checked:"1"},Le=e("label",{class:"col-5 col-lg-4 fw-semibold text-muted"}," Email ",-1),Me={class:"col-7 col-lg-8 d-flex align-items-center flex-wrap",bis_skin_checked:"1"},Re={class:"fw-semibold text-gray-800 fs-6 me-2"},Se={key:0,class:"badge badge-success"},ze={key:1,class:"badge badge-danger"},je={class:"row mb-7",bis_skin_checked:"1"},qe=e("label",{class:"col-5 col-lg-4 fw-semibold text-muted"},[k(" Contact Phone "),e("span",{class:"ms-1","data-bs-toggle":"tooltip","aria-label":"Phone number must be active","data-bs-original-title":"Phone number must be active","data-kt-initialized":"1"},[e("i",{class:"ki-outline ki-information fs-7"})])],-1),Je={class:"col-7 col-lg-8 fv-row",bis_skin_checked:"1"},He={class:"fw-bold fs-6 text-gray-800 me-2"},Ge={class:"row mb-7",bis_skin_checked:"1"},Ke=e("label",{class:"col-5 col-lg-4 fw-semibold text-muted"},"ETH Address",-1),Qe={class:"col-7 col-lg-8",bis_skin_checked:"1"},We={role:"button",class:"fw-semibold fs-6 text-gray-800 text-hover-primary"},Xe={class:"notice d-flex bg-light-warning rounded border-warning border border-dashed p-6",bis_skin_checked:"1"},Ye=e("i",{class:"ki-outline ki-information fs-2tx text-warning me-4"},null,-1),Ze={key:0,class:"d-flex flex-stack flex-grow-1",bis_skin_checked:"1"},es=e("div",{class:"fw-semibold",bis_skin_checked:"1"},[e("h4",{class:"text-gray-900 fw-bold"}," We need your attention! "),e("div",{class:"fs-6 text-gray-700",bis_skin_checked:"1"}," >Email is not verified. ")],-1),ss=[es],ts=g({__name:"UserProfile",props:{user:{}},setup(o){const s=v();return(i,t)=>{var n,r,c,l,a;return d(),m("div",ye,[e("div",we,[$e,(n=i.user)!=null&&n.status?(d(),m("div",Ce,Ee)):(d(),m("button",{key:0,ref_key:"submitButton",ref:s,class:"btn btn-light-primary"},Ue,512))]),e("div",Be,[e("div",De,[Fe,e("div",Ie,[e("span",Oe,f(i.user.name?i.user.name:"Unknown Collector"),1)])]),e("div",Te,[Le,e("div",Me,[e("span",Re,f((r=i.user)==null?void 0:r.email),1),((c=i.user)==null?void 0:c.status)=="verified"?(d(),m("span",Se,"Verified")):(d(),m("span",ze,"Not verified"))])]),e("div",je,[qe,e("div",Je,[e("span",He,f(i.user.phone?i.user.phone:"Unknown"),1)])]),e("div",Ge,[Ke,e("div",Qe,[e("a",We,f((l=i.user)==null?void 0:l.ethAddress),1)])]),e("div",Xe,[Ye,((a=i.user)==null?void 0:a.status)!=="veified"?(d(),m("div",Ze,ss)):D("",!0)])])])}}}),is={class:"card card-flush mb-9",id:"kt_user_profile_panel",bis_skin_checked:"1"},ns=e("div",{class:"card-header rounded-top bgi-size-cover h-200px",style:{"background-position":"100% 50%","background-image":"url('/assets/media/auth/bg14.jpg')"},bis_skin_checked:"1"},null,-1),os={class:"card-body mt-n19",bis_skin_checked:"1"},as={class:"m-0",bis_skin_checked:"1"},ls={class:"d-flex flex-stack align-items-end pb-4 mt-n19",bis_skin_checked:"1"},rs={class:"symbol symbol-125px symbol-lg-150px symbol-fixed position-relative mt-n3",bis_skin_checked:"1"},cs=["src"],ds=e("div",{class:"position-absolute translate-middle bottom-0 start-100 ms-n1 mb-9 bg-success rounded-circle h-15px w-15px",bis_skin_checked:"1"},null,-1),us={class:"d-flex flex-stack flex-wrap align-items-end",bis_skin_checked:"1"},_s={class:"d-flex flex-column",bis_skin_checked:"1"},ms={class:"d-flex align-items-center mb-2",bis_skin_checked:"1"},bs={role:"button",class:"text-gray-800 text-hover-primary fs-2 fw-bolder me-1"},ps={role:"button",class:"","data-bs-toggle":"tooltip","data-bs-placement":"right","aria-label":"Account is verified","data-bs-original-title":"Account is verified","data-kt-initialized":"1"},fs={key:0,class:"ki-outline ki-verify fs-1 text-primary"},hs={key:1,tooltip:"Not verified",class:"ki-outline ki-information fs-1 text-danger"},vs={class:"d-flex align-items-center flex-wrap fw-semibold mb-5 mb-lg-0 fs-7 pe-2",bis_skin_checked:"1"},ks=e("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400 mx-3"},null,-1),gs={href:"#",class:"d-block text-gray-400 text-hover-primary mw-lg-400px mw-200px text-truncate"},xs=e("span",{class:"bullet bullet-dot h-5px w-5px bg-gray-400 mx-3"},null,-1),ys={class:"d-flex",bis_skin_checked:"1"},ws=e("i",{class:"ki-outline ki-check fs-2 d-none"},null,-1),$s=e("span",{class:"indicator-label"}," Back",-1),Vs=[ws,$s],Us={class:"card-footer border-0"},Cs=g({__name:"UserView",setup(o){v("");const s=h().active,i=v(null),t=()=>{s.value=null};return P(()=>{}),(n,r)=>{var a,u,_,x;const c=xe,l=ts;return d(),m("div",null,[e("div",is,[ns,e("div",os,[e("div",as,[e("div",ls,[e("div",rs,[e("img",{src:((a=b(s))==null?void 0:a.profileImg)||n.$config.public.DEFAULT_DP,alt:"image",class:"border border-white border-4",style:{"border-radius":"20px"}},null,8,cs),ds])]),e("div",us,[e("div",_s,[e("div",ms,[e("a",bs,f((u=b(s))==null?void 0:u.name),1),e("a",ps,[((_=b(s))==null?void 0:_.status)==="verified"?(d(),m("i",fs)):(d(),m("i",hs))])]),e("div",vs,[ks,e("div",gs,f((x=b(s))==null?void 0:x.ethAddress),1),xs])]),e("div",ys,[b(i)?(d(),m("a",{key:1,onClick:r[1]||(r[1]=y=>i.value=null),role:"button",class:"btn btn-sm btn-light me-3"}," Profile ")):(d(),m("a",{key:0,onClick:r[0]||(r[0]=y=>i.value="notify"),role:"button",class:"btn btn-sm btn-light me-3"}," Fund User ")),e("button",{onClick:r[2]||(r[2]=y=>t()),class:"btn btn-sm btn-primary"},Vs)])])])]),e("div",Us,[b(i)?(d(),U(c,{key:0,user:b(s)},null,8,["user"])):(d(),U(l,{key:1,user:b(s)},null,8,["user"]))])])])}}}),As={class:"h-md-100"},Ps={key:0,class:""},Ns={class:"card card-flush card-custom border-0 h-md-100 mb-5 mb-lg-10"},Es={class:"card-body"},Bs={class:"d-block d-flex flex-column align-items-center justify-content-center"},Ds={class:"text-center h2 pb-2 fw-bold"},Fs={class:"position-relative my-1",bis_skin_checked:"1"},Is=e("i",{class:"ki-outline ki-magnifier fs-2 position-absolute top-50 translate-middle-y ms-4"},null,-1),Os={class:"row g-6 mb-6 g-xl-10 mb-xl-9 px-8"},Ts={class:"col-12 col-md-4 hover-scale cursor-pointer",bis_skin_checked:"1"},Js=g({__name:"users",setup(o){const s=v(""),i=h().active,t=v(h().users.value.length);h().users.value.length===0&&h().getUsers();function n(c){if(!c)return h().users.value;c=c.toLowerCase();const l=h().users.value.filter(a=>a.name&&a.name.toLowerCase().includes(c)||a.email&&a.email.toLowerCase().includes(c)||a.phone&&a.phone.toLowerCase().includes(c));return t.value=l.length,l}const r=()=>{n(s.value)};return P(()=>{}),(c,l)=>{const a=ne,u=Cs;return d(),m("div",As,[b(i)?(d(),U(u,{key:1})):(d(),m("div",Ps,[e("div",Ns,[e("div",Es,[e("div",Bs,[e("h1",Ds," Users ("+f(b(t))+") ",1),e("div",Fs,[Is,$(e("input",{onKeyup:l[0]||(l[0]=_=>r()),type:"text","data-kt-table-widget-4":"search",class:"form-control w-150px fs-7 ps-12",placeholder:"Search","onUpdate:modelValue":l[1]||(l[1]=_=>I(s)?s.value=_:null)},null,544),[[V,b(s)]])])])])]),e("div",Os,[(d(!0),m(O,null,T(n(b(s)),_=>(d(),m("div",Ts,[L(a,{user:_},null,8,["user"])]))),256))])]))])}}});export{Js as default};
